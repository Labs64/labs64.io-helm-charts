**********************************************************************
***   Labs64.IO :: AuditFlow has been successfully deployed!    ***
**********************************************************************

Release Name: {{ .Release.Name }}
Namespace:    {{ .Release.Namespace }}
Chart:        {{ .Chart.Name }}-{{ .Chart.Version }}
App Version:  {{ .Chart.AppVersion }}

{{- if .Values.applicationYaml }}
{{- if .Values.applicationYaml.pipelines }}
{{- if gt (len .Values.applicationYaml.pipelines) 0 }}

ğŸ“Š Configured Pipelines ({{ len .Values.applicationYaml.pipelines }}):
{{- range .Values.applicationYaml.pipelines }}
  - {{ .name }} ({{ if .enabled }}âœ“ enabled{{ else }}âœ— disabled{{ end }})
{{- end }}
{{- else }}

âš ï¸  No pipelines configured. Events will be published but not processed.
{{- end }}
{{- end }}
{{- end }}

ğŸ”— Service Information:
   kubectl get svc {{ include "chart-libs.fullname" . }} -n {{ .Release.Namespace }}

ğŸ“¦ Pod Status:
   kubectl get pods -l app.kubernetes.io/name={{ include "chart-libs.name" . }} -n {{ .Release.Namespace }}

ğŸ“‹ Logs:
   kubectl logs -l app.kubernetes.io/name={{ include "chart-libs.name" . }} -n {{ .Release.Namespace }} -f

{{- if .Values.ingressroute.enabled }}

ğŸŒ IngressRoute:
   Host: {{ .Values.ingressroute.host }}
   Entry Points: {{ join ", " .Values.ingressroute.entryPoints }}
{{- end }}

{{- if .Values.ingress.enabled }}

ğŸŒ Ingress:
{{- range .Values.ingress.hosts }}
   Host: {{ .host }}
{{- end }}
{{- end }}

ğŸ¥ Health Checks:
   Liveness:  http://{{ include "chart-libs.fullname" . }}:{{ .Values.service.port }}/actuator/health/liveness
   Readiness: http://{{ include "chart-libs.fullname" . }}:{{ .Values.service.port }}/actuator/health/readiness

ğŸ“– API Documentation:
   Swagger UI: http://{{ include "chart-libs.fullname" . }}:{{ .Values.service.port }}/swagger-ui.html
   OpenAPI:    http://{{ include "chart-libs.fullname" . }}:{{ .Values.service.port }}/v3/api-docs

{{- if eq .Values.applicationYaml.transformer.discovery.mode "local" }}

ğŸ”„ Transformer Mode: Local (Sidecar)
   The transformer is running as a sidecar container in the same pod.
{{- else }}

ğŸ”„ Transformer Mode: Kubernetes Service Discovery
   Service: {{ .Values.applicationYaml.transformer.service.name }}
   Namespace: {{ .Values.applicationYaml.transformer.service.namespace }}
{{- end }}

ğŸ“š Documentation:
   GitHub: https://github.com/Labs64/labs64.io-auditflow
   Website: https://labs64.io

ğŸ’¡ Quick Commands:

   # Port-forward to access locally
   kubectl port-forward svc/{{ include "chart-libs.fullname" . }} {{ .Values.service.port }}:{{ .Values.service.port }} -n {{ .Release.Namespace }}

   # Test the API
   curl http://localhost:{{ .Values.service.port }}/actuator/health

   # View configuration
   kubectl get configmap {{ include "chart-libs.fullname" . }} -n {{ .Release.Namespace }} -o yaml

{{- if not .Values.autoscaling.enabled }}

âš¡ Scaling:
   kubectl scale deployment {{ include "chart-libs.fullname" . }} --replicas=3 -n {{ .Release.Namespace }}
{{- else }}

âš¡ Autoscaling: Enabled
   Min Replicas: {{ .Values.autoscaling.minReplicas }}
   Max Replicas: {{ .Values.autoscaling.maxReplicas }}
{{- end }}

**********************************************************************

